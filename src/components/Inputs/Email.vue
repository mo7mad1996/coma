<template>
  <div>
    <div
      class="flex gap-2 md:gap-4 border !border-gray-200 p-2 px-4 rounded-2xl items-center bg-white"
      :class="`${customClass} ${
        disabled && '!bg-neutral-200 cursor-not-allowed'
      }`"
    >
      <svg
        width="22"
        height="20"
        viewBox="0 0 22 20"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          fill-rule="evenodd"
          clip-rule="evenodd"
          d="M13.92 0.786805C11.967 0.737734 10.033 0.737731 8.07999 0.786799L8.02182 0.788259C6.497 0.826545 5.27002 0.857352 4.2867 1.0286C3.2572 1.20789 2.42048 1.55177 1.71362 2.26132C1.00971 2.9679 0.66764 3.7926 0.491759 4.8054C0.324289 5.76978 0.298783 6.9668 0.267187 8.44965L0.265935 8.50839C0.244688 9.50473 0.244688 10.4953 0.265936 11.4916L0.267188 11.5504C0.298786 13.0332 0.324293 14.2302 0.491763 15.1946C0.667644 16.2074 1.00972 17.0321 1.71362 17.7387C2.42048 18.4482 3.2572 18.7921 4.2867 18.9714C5.27001 19.1426 6.49697 19.1735 8.02177 19.2117L8.07999 19.2132C10.033 19.2623 11.967 19.2623 13.92 19.2132L13.9782 19.2117C15.503 19.1735 16.73 19.1426 17.7133 18.9714C18.7428 18.7921 19.5795 18.4482 20.2864 17.7387C20.9903 17.0321 21.3324 16.2074 21.5082 15.1946C21.6757 14.2302 21.7012 13.0332 21.7328 11.5503L21.7341 11.4916C21.7553 10.4953 21.7553 9.50474 21.7341 8.5084L21.7328 8.44967C21.7012 6.96683 21.6757 5.76979 21.5082 4.80542C21.3324 3.79261 20.9903 2.96792 20.2864 2.26134C19.5795 1.55179 18.7428 1.20791 17.7133 1.02862C16.73 0.857365 15.503 0.826555 13.9782 0.788266L13.92 0.786805ZM8.11766 2.28633C10.0456 2.23789 11.9544 2.23789 13.8823 2.28633C15.479 2.32645 16.5947 2.35638 17.4559 2.50637C18.2835 2.65049 18.7994 2.89411 19.2237 3.31998C19.3977 3.49459 19.5405 3.68255 19.6582 3.89829L13.7173 7.26444C12.4621 7.9757 11.7003 8.25001 11.0001 8.25001C10.2999 8.25001 9.53815 7.9757 8.28285 7.26444L2.34181 3.8982C2.4595 3.68249 2.60237 3.49455 2.77629 3.31997C3.20055 2.89409 3.71652 2.65048 4.54405 2.50636C5.40529 2.35637 6.52099 2.32644 8.11766 2.28633ZM1.92102 5.38383C1.81754 6.17564 1.79468 7.17647 1.76559 8.54037C1.7448 9.5154 1.7448 10.4846 1.7656 11.4596C1.79877 13.0152 1.82385 14.0984 1.96964 14.938C2.10923 15.7418 2.34907 16.2512 2.77629 16.68C3.20056 17.1059 3.71653 17.3495 4.54406 17.4936C5.4053 17.6436 6.521 17.6736 8.11767 17.7137C10.0456 17.7621 11.9544 17.7621 13.8823 17.7137C15.479 17.6736 16.5947 17.6436 17.4559 17.4936C18.2835 17.3495 18.7994 17.1059 19.2237 16.68C19.6509 16.2512 19.8908 15.7418 20.0304 14.938C20.1762 14.0984 20.2012 13.0152 20.2344 11.4596C20.2552 10.4846 20.2552 9.51541 20.2344 8.54038C20.2053 7.17653 20.1825 6.17574 20.079 5.38394L14.4568 8.56951C13.1635 9.30229 12.1126 9.75001 11.0001 9.75001C9.88761 9.75001 8.83667 9.30229 7.54339 8.56951L1.92102 5.38383Z"
          fill="#929A9F"
        />
      </svg>

      <Field
        class="flex-1 outline-none max-md:placeholder:text-sm"
        :rules="rules"
        :name="name"
        :disabled="disabled"
        :type="type"
        :placeholder="placeholder"
        :validateOnInput="true"
        v-model="modelValue"
        inputmode="email"
        autocomplete="email"
      />
    </div>

    <ErrorMessage :name="name" />
  </div>
</template>

<script setup>
import { Field, ErrorMessage } from "vee-validate";

const props = defineProps({
  rules: { type: String, default: "email" },
  type: { type: String, default: "email" },
  name: { type: String, default: "email" },
  customClass: { type: String, required: false },
  placeholder: { type: String, required: false },
  disabled: { type: null, default: false },
});

const modelValue = defineModel();
</script>
